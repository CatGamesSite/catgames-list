<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Your meta tags and title here -->

    <style>
        body {
            background: #000000;
            color: #cccccc;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center; /* Horizontally center the content */
            align-items: center; /* Vertically center the content */
            height: 100vh;
            overflow: hidden;
        }

        #canvas-container {
            display: flex;
            justify-content: center; /* Horizontally center the canvas */
            align-items: center; /* Vertically center the canvas */
        }

        canvas {
            image-rendering: optimizeSpeed;
            -webkit-interpolation-mode: nearest-neighbor;
            -ms-touch-action: none;
            margin: 0;
            padding: 0;
            border: 0;
            max-width: 100%; /* Ensure the canvas doesn't exceed the screen width */
            max-height: 75vh; /* Adjust this value to maintain a 4:3 aspect ratio */
        }

        :-webkit-full-screen #canvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <div id="canvas-container">
        <!-- Create the canvas element the game draws to -->
        <canvas id="canvas">
            <p>Your browser doesn't support HTML5 canvas.</p>
        </canvas>
    </div>

    <!-- Run the game code -->
    <script type="text/javascript" src="html5game_a5/circloO.js"></script>
    <script src="/js/main.js"></script>

    <script>
        // Adjust canvas size when the window is resized
        window.addEventListener('resize', resizeCanvas);

        function resizeCanvas() {
            const canvas = document.getElementById('canvas');
            const container = document.getElementById('canvas-container');
            
            // Calculate canvas width and height to maintain 4:3 aspect ratio
            const ratio = 4 / 3;
            const maxWidth = container.clientWidth;
            const maxHeight = container.clientHeight;

            let width = maxWidth;
            let height = maxWidth / ratio;

            if (height > maxHeight) {
                // If height exceeds maxHeight, adjust width
                height = maxHeight;
                width = maxHeight * ratio;
            }

            // Set canvas dimensions
            canvas.width = width;
            canvas.height = height;
        }

        // Initial canvas size adjustment
        window.addEventListener('load', resizeCanvas);

        // Fullscreen change event
        document.addEventListener('fullscreenchange', function () {
            if (document.fullscreenElement) {
                // Adjust canvas size when entering fullscreen
                resizeCanvas();
            } else {
                // Restore canvas size when exiting fullscreen
                resizeCanvas();
            }
        });

        // Listen for messages from the parent iframe for resizing
        window.addEventListener('message', function (event) {
            if (event.data === 'iframeResize') {
                resizeCanvas();
            }
        });
    </script>
</body>
</html>
